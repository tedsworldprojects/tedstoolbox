<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Electronics Engineer Toolkit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* Simple scrollbar styling for a more modern look */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #111827; /* bg-gray-900 */
      }
      ::-webkit-scrollbar-thumb {
        background: #4b5563; /* bg-gray-600 */
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #6b7280; /* bg-gray-500 */
      }
      
      /* Add a subtle fade-in animation for components */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }

      /* Style for the calculated field in Ohm's Law calculator */
      .calculated-field {
          background-color: #0c4a6e; /* bg-cyan-900 */
          border-color: #22d3ee; /* border-cyan-500 */
          transition: background-color 0.3s ease-in-out, border-color 0.3s ease-in-out;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-gray-900 text-gray-100">
    <div id="root"></div>
    <script type="module">
      import React, { useState, useEffect } from 'react';
      import ReactDOM from 'react-dom/client';

      // --- BUNDLED CODE START ---

      // constants.ts
      const RESISTOR_COLOR_CODES = {
        black:  { value: 0, multiplier: 1 },
        brown:  { value: 1, multiplier: 10, tolerance: 1 },
        red:    { value: 2, multiplier: 100, tolerance: 2 },
        orange: { value: 3, multiplier: 1000 },
        yellow: { value: 4, multiplier: 10000 },
        green:  { value: 5, multiplier: 100000, tolerance: 0.5 },
        blue:   { value: 6, multiplier: 1000000, tolerance: 0.25 },
        violet: { value: 7, multiplier: 10000000, tolerance: 0.1 },
        grey:   { value: 8, multiplier: 100000000, tolerance: 0.05 },
        white:  { value: 9, multiplier: 1000000000 },
        gold:   { value: -1, multiplier: 0.1, tolerance: 5 },
        silver: { value: -2, multiplier: 0.01, tolerance: 10 },
        none:   { value: -1, multiplier: 1, tolerance: 20 },
      };
      const E12_SERIES = [10, 12, 15, 18, 22, 27, 33, 39, 47, 56, 68, 82];
      const E24_SERIES = [10, 11, 12, 13, 15, 16, 18, 20, 22, 24, 27, 30, 33, 36, 39, 43, 47, 51, 56, 62, 68, 75, 82, 91];

      // utils/electronicsCalculations.ts
      const formatResistance = (ohms) => {
        if (ohms >= 1_000_000_000) return `${(ohms / 1_000_000_000).toPrecision(3)} GΩ`;
        if (ohms >= 1_000_000) return `${(ohms / 1_000_000).toPrecision(3)} MΩ`;
        if (ohms >= 1_000) return `${(ohms / 1_000).toPrecision(3)} kΩ`;
        return `${ohms.toPrecision(3)} Ω`;
      };
      const decodeResistor = (colors) => {
        const colorArray = colors.toLowerCase().split(/[\s,]+/).filter(c => c);
        const numBands = colorArray.length;
        if (numBands < 4 || numBands > 5) {
          return 'Invalid number of bands. Please provide 4 or 5 colors.';
        }
        const bandCodes = colorArray.map(color => RESISTOR_COLOR_CODES[color]);
        if (bandCodes.some(code => !code)) {
          return 'Invalid color name found. Check your input.';
        }
        let resistance;
        let tolerance;
        if (numBands === 4) {
          const [b1, b2, b3, b4] = bandCodes;
          if (b1.value < 0 || b2.value < 0) return "Invalid digit color in first bands."
          resistance = (b1.value * 10 + b2.value) * b3.multiplier;
          tolerance = b4.tolerance;
        } else {
          const [b1, b2, b3, b4, b5] = bandCodes;
          if (b1.value < 0 || b2.value < 0 || b3.value < 0) return "Invalid digit color in first bands."
          resistance = (b1.value * 100 + b2.value * 10 + b3.value) * b4.multiplier;
          tolerance = b5.tolerance;
        }
        if (tolerance === undefined) {
          return `Resistance: ${formatResistance(resistance)}. Tolerance not specified.`;
        }
        return `Resistance: ${formatResistance(resistance)} ±${tolerance}%`;
      };
      const parseCapacitance = (value) => {
        const match = value.toLowerCase().match(/^(\d*\.?\d+)\s*(p|n|u|µ)f?$/);
        if (!match) return null;
        const num = parseFloat(match[1]);
        const unit = match[2];
        switch (unit) {
          case 'p': return num;
          case 'n': return num * 1000;
          case 'u':
          case 'µ': return num * 1000000;
          default: return null;
        }
      };
      const findClosest = (target, series) => {
          let closestVal = series[0];
          let minDiff = Infinity;
          for (const val of series) {
              const diff = Math.abs(Math.log10(target) - Math.log10(val));
              if (diff < minDiff) {
                  minDiff = diff;
                  closestVal = val;
              }
          }
          return closestVal;
      }
      const formatCapacitance = (pF) => {
          if (pF < 1000) return `${pF}pF`;
          if (pF < 1000000) return `${pF / 1000}nF`;
          return `${pF / 1000000}µF`;
      }
      const findStandardCapacitorValue = (inputValue) => {
          const valueInPf = parseCapacitance(inputValue);
          if (valueInPf === null) {
              return "Invalid input. Use format like '0.1uF', '10nF', '100pF'.";
          }
          if (valueInPf === 0) return "Input value cannot be zero.";
          const magnitude = Math.pow(10, Math.floor(Math.log10(valueInPf)));
          const normalizedTarget = valueInPf / magnitude * 10;
          const closestE12Base = findClosest(normalizedTarget, E12_SERIES);
          const closestE24Base = findClosest(normalizedTarget, E24_SERIES);
          const closestE12 = closestE12Base * magnitude / 10;
          const closestE24 = closestE24Base * magnitude / 10;
          return `Closest E12: ${formatCapacitance(closestE12)}\nClosest E24: ${formatCapacitance(closestE24)}`;
      };

      // hooks/useLocalStorage.ts
      function useLocalStorage(key, initialValue) {
        const [storedValue, setStoredValue] = useState(() => {
          if (typeof window === 'undefined') {
            return initialValue;
          }
          try {
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
          } catch (error) {
            console.error(error);
            return initialValue;
          }
        });
        useEffect(() => {
          try {
            if (typeof window !== 'undefined') {
              const valueToStore = JSON.stringify(storedValue);
              window.localStorage.setItem(key, valueToStore);
            }
          } catch (error) {
            console.error(error);
          }
        }, [key, storedValue]);
        return [storedValue, setStoredValue];
      }

      // components/Card.tsx
      const Card = ({ title, icon, children }) => {
        return React.createElement('div', { className: "bg-gray-800 border border-gray-700 rounded-xl shadow-lg flex flex-col" },
          React.createElement('div', { className: "p-5 border-b border-gray-700 flex items-center space-x-3" },
            React.createElement('div', { className: "text-cyan-400" }, icon),
            React.createElement('h2', { className: "text-xl font-semibold text-gray-100" }, title)
          ),
          React.createElement('div', { className: "p-5 flex-grow" }, children)
        );
      };

      // components/ResultDisplay.tsx
      const ClipboardIcon = ({ isCopied }) => {
        return isCopied ?
          React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-5 w-5 text-green-400", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M5 13l4 4L19 7" })
          ) :
          React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-5 w-5", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
            React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" })
          );
      };
      const ResultDisplay = ({ result }) => {
        const [isCopied, setIsCopied] = useState(false);
        const handleCopy = () => {
          if (!result) return;
          navigator.clipboard.writeText(result);
          setIsCopied(true);
          setTimeout(() => setIsCopied(false), 2000);
        };
        return React.createElement('div', { className: "mt-4" },
          React.createElement('label', { className: "block text-sm font-medium text-gray-400 mb-1" }, "Result"),
          React.createElement('div', { className: "relative bg-gray-900 border border-gray-600 rounded-lg p-3 min-h-[6rem]" },
            React.createElement('pre', { className: "text-cyan-300 whitespace-pre-wrap text-sm leading-relaxed" }, result),
            result && React.createElement('div', { className: "absolute top-2 right-2 flex space-x-2" },
              React.createElement('button', {
                  onClick: handleCopy,
                  className: "p-1.5 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500",
                  title: isCopied ? "Copied!" : "Copy to Clipboard"
                },
                React.createElement(ClipboardIcon, { isCopied: isCopied })
              )
            )
          )
        );
      };

      // components/ResistorDecoder.tsx
      const ResistorIcon = () => React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
          React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 4v8l-4 4h14l-4-4V4H9zm-2 0h10" })
      );
      const ResistorDecoder = ({ onSave }) => {
        const [colors, setColors] = useState('brown, black, orange, gold');
        const [result, setResult] = useState('');
        const handleDecode = () => {
          const decodedValue = decodeResistor(colors);
          setResult(decodedValue);
          if (decodedValue.startsWith('Resistance:')) {
            onSave('Resistor Decoder', colors, decodedValue);
          }
        };
        return React.createElement(Card, { title: "Resistor Color Code Decoder", icon: React.createElement(ResistorIcon, null) },
          React.createElement('div', null,
            React.createElement('div', null,
              React.createElement('label', { htmlFor: "resistor-colors", className: "block text-sm font-medium text-gray-400" }, "4 or 5 Band Colors"),
              React.createElement('input', { id: "resistor-colors", type: "text", value: colors, onChange: (e) => setColors(e.target.value), placeholder: "e.g., red, red, orange, gold", className: "mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm text-white" }),
              React.createElement('p', { className: "mt-2 text-xs text-gray-500" }, "Separate colors with a comma or space.")
            ),
            React.createElement('button', { onClick: handleDecode, className: "mt-4 w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 transition duration-150" }, "Decode"),
            React.createElement('div', null, React.createElement(ResultDisplay, { result: result }))
          )
        );
      };

      // components/OhmsLawCalculator.tsx
      const OhmsLawIcon = () => React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M13 10V3L4 14h7v7l9-11h-7z" })
      );
      const OhmsLawCalculator = ({ onSave }) => {
        const [voltage, setVoltage] = useState('');
        const [current, setCurrent] = useState('');
        const [resistance, setResistance] = useState('');
        const [result, setResult] = useState('');
        const [error, setError] = useState('');
        const [lastCalculated, setLastCalculated] = useState('');
        const calculate = () => {
          setError('');
          setResult('');
          const v = parseFloat(voltage);
          const i = parseFloat(current);
          const r = parseFloat(resistance);
          const filledFields = [voltage, current, resistance].filter(Boolean).length;
          if (filledFields !== 2) {
            setError('Please provide exactly two values.');
            return;
          }
          let resultString = '';
          let inputString = '';
          if (!voltage) {
            const newV = i * r;
            setVoltage(newV.toPrecision(4));
            setLastCalculated('voltage');
            resultString = `Voltage (V) = ${newV.toPrecision(4)} V`;
            inputString = `I=${current}A, R=${resistance}Ω`;
          } else if (!current) {
            if (r === 0) {
              setError("Resistance cannot be zero for this calculation.");
              return;
            }
            const newI = v / r;
            setCurrent(newI.toPrecision(4));
            setLastCalculated('current');
            resultString = `Current (I) = ${newI.toPrecision(4)} A`;
            inputString = `V=${voltage}V, R=${resistance}Ω`;
          } else if (!resistance) {
            if (i === 0) {
              setError("Current cannot be zero for this calculation.");
              return;
            }
            const newR = v / i;
            setResistance(newR.toPrecision(4));
            setLastCalculated('resistance');
            resultString = `Resistance (R) = ${newR.toPrecision(4)} Ω`;
            inputString = `V=${voltage}V, I=${current}A`;
          }
          setResult(resultString);
          onSave("Ohm's Law", inputString, resultString);
        };
        const handleInputChange = (setter) => (e) => {
          setter(e.target.value);
          setLastCalculated('');
        }
        const clearFields = () => {
          setVoltage('');
          setCurrent('');
          setResistance('');
          setResult('');
          setError('');
          setLastCalculated('');
        };
        return React.createElement(Card, { title: "Ohm's Law Calculator", icon: React.createElement(OhmsLawIcon, null) },
          React.createElement('div', { className: "space-y-3" },
            React.createElement('div', null,
              React.createElement('label', { htmlFor: "voltage", className: "block text-sm font-medium text-gray-400" }, "Voltage (V)"),
              React.createElement('input', { id: "voltage", type: "number", value: voltage, onChange: handleInputChange(setVoltage), placeholder: "e.g., 5", className: `mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm text-white ${lastCalculated === 'voltage' ? 'calculated-field' : ''}` })
            ),
            React.createElement('div', null,
              React.createElement('label', { htmlFor: "current", className: "block text-sm font-medium text-gray-400" }, "Current (I) in Amperes"),
              React.createElement('input', { id: "current", type: "number", value: current, onChange: handleInputChange(setCurrent), placeholder: "e.g., 0.02", className: `mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm text-white ${lastCalculated === 'current' ? 'calculated-field' : ''}` })
            ),
            React.createElement('div', null,
              React.createElement('label', { htmlFor: "resistance", className: "block text-sm font-medium text-gray-400" }, "Resistance (R) in Ohms"),
              React.createElement('input', { id: "resistance", type: "number", value: resistance, onChange: handleInputChange(setResistance), placeholder: "e.g., 1000", className: `mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm text-white ${lastCalculated === 'resistance' ? 'calculated-field' : ''}` })
            ),
            React.createElement('div', { className: "flex space-x-2 pt-2" },
              React.createElement('button', { onClick: calculate, className: "w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-md transition duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500" }, "Calculate"),
              React.createElement('button', { onClick: clearFields, className: "w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-md transition duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-500" }, "Clear")
            ),
            error && React.createElement('p', { className: "text-red-400 text-sm mt-2" }, error),
            result && React.createElement(ResultDisplay, { result: result })
          )
        );
      };

      // components/CapacitorLookup.tsx
      const CapacitorIcon = () => React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 5h2v4h-2V7zm0 6h2v2h-2v-2z" })
      );
      const CapacitorLookup = ({ onSave }) => {
        const [value, setValue] = useState('0.1uF');
        const [result, setResult] = useState('');
        const handleLookup = () => {
          const lookupResult = findStandardCapacitorValue(value);
          setResult(lookupResult);
          if (lookupResult.startsWith('Closest E12:')) {
            onSave('Capacitor Lookup', value, lookupResult);
          }
        };
        return React.createElement(Card, { title: "Standard Capacitor Value Lookup", icon: React.createElement(CapacitorIcon, null) },
          React.createElement('div', null,
            React.createElement('div', null,
              React.createElement('label', { htmlFor: "capacitor-value", className: "block text-sm font-medium text-gray-400" }, "Capacitance Value"),
              React.createElement('input', { id: "capacitor-value", type: "text", value: value, onChange: (e) => setValue(e.target.value), placeholder: "e.g., 4.7nF, 100pF", className: "mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm text-white" }),
              React.createElement('p', { className: "mt-2 text-xs text-gray-500" }, "Units: pF, nF, uF (or µF).")
            ),
            React.createElement('button', { onClick: handleLookup, className: "mt-4 w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 transition duration-150" }, "Find Closest Value"),
            React.createElement('div', null, React.createElement(ResultDisplay, { result: result }))
          )
        );
      };

      // components/History.tsx
      const HistoryIcon = () => React.createElement('svg', { xmlns: "http://www.w3.org/2000/svg", className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
        React.createElement('path', { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" })
      );
      const History = ({ history, onClear }) => {
        return React.createElement(Card, { title: "Calculation History", icon: React.createElement(HistoryIcon, null) },
          React.createElement('div', null,
            history.length > 0 && React.createElement('button', { onClick: onClear, className: "mb-4 w-full text-sm bg-red-800 hover:bg-red-700 text-white font-bold py-1.5 px-3 rounded-md transition duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-red-500" }, "Clear History"),
            React.createElement('div', { className: "space-y-4" },
              history.length > 0 ?
              history.map((item) => React.createElement('div', { key: item.id, className: "bg-gray-700/50 p-3 rounded-lg border border-gray-600/50" },
                  React.createElement('p', { className: "font-semibold text-cyan-400 text-sm" }, item.tool),
                  React.createElement('p', { className: "text-xs text-gray-400 mt-1" }, "Input: ", React.createElement('span', { className: "text-gray-300" }, item.input)),
                  React.createElement('p', { className: "text-xs text-gray-400 mt-1" }, "Result: ", React.createElement('span', { className: "text-gray-200 whitespace-pre-wrap" }, item.result))
              )) :
              React.createElement('div', { className: "flex items-center justify-center h-24 text-center text-gray-500" },
                React.createElement('p', null, "Your last 5 saved calculations will appear here.")
              )
            )
          )
        );
      };

      // App.tsx
      const App = () => {
        const [history, setHistory] = useLocalStorage('calcHistory', []);
        const handleSaveCalculation = (tool, input, result) => {
          const newHistoryEntry = {
            id: Date.now(),
            tool,
            input,
            result,
          };
          setHistory(prevHistory => [newHistoryEntry, ...prevHistory].slice(0, 5));
        };
        const clearHistory = () => {
          setHistory([]);
        };
        return React.createElement('div', { className: "min-h-screen bg-gray-900 text-gray-100 font-sans p-4 sm:p-6 lg:p-8" },
          React.createElement('div', { className: "max-w-3xl mx-auto" },
            React.createElement('header', { className: "text-center mb-10" },
              React.createElement('h1', { className: "text-4xl sm:text-5xl font-bold text-cyan-400 tracking-tight" }, "TEDS WORLD PROJECTS"),
              React.createElement('p', { className: "mt-2 text-lg text-gray-400" }, "Your essential suite of bench tools!")
            ),
            React.createElement('main', { className: "flex flex-col space-y-8" },
              React.createElement('div', { className: "card-fade-in", style: { animationDelay: '100ms' } }, React.createElement(ResistorDecoder, { onSave: handleSaveCalculation })),
              React.createElement('div', { className: "card-fade-in", style: { animationDelay: '200ms' } }, React.createElement(OhmsLawCalculator, { onSave: handleSaveCalculation })),
              React.createElement('div', { className: "card-fade-in", style: { animationDelay: '300ms' } }, React.createElement(CapacitorLookup, { onSave: handleSaveCalculation })),
              React.createElement('div', { className: "card-fade-in", style: { animationDelay: '400ms' } }, React.createElement(History, { history: history, onClear: clearHistory }))
            ),
            React.createElement('footer', { className: "text-center mt-12 text-gray-500 text-sm" },
              React.createElement('p', null, "2025 Teds World Projects Toolbox v1.1")
            )
          )
        );
      };

      // index.tsx (render call)
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(React.createElement(React.StrictMode, null, React.createElement(App, null)));

      // --- BUNDLED CODE END ---
    </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>